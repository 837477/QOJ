CREATE OR REPLACE VIEW v_problem AS (SELECT F.*, E.up_id, E.user_id, E.up_state, E.up_query, E.up_date FROM QOJ_user_problem AS E LEFT JOIN (SELECT D.*, C.class_name, C.class_date, C.user_id AS class_admin FROM QOJ_class AS C RIGHT JOIN (SELECT A.*, B.pg_title, B.class_id, B.pg_activate, B.pg_exam, B.pg_exam_start, B.pg_exam_end, pg_date FROM QOJ_problem AS A LEFT JOIN (SELECT * FROM QOJ_problem_group) AS B ON A.pg_id = B.pg_id) AS D ON C.class_id = D.class_id) AS F ON E.p_id = F.p_id);